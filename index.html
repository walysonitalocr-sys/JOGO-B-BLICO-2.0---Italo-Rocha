<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo B√≠blico ‚Äì √çtalo Rocha</title>
<style>
:root{
  --cor1:#0b4f8a;--cor2:#16a34a;--cor3:#f97316;--cor4:#7c3aed;
  --bg:var(--cor1);
  --text:#fff;
  --err:#ef4444;
  --ok:#16a34a;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif}
body{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,var(--bg),#2ea1ff);color:var(--text);transition:background .5s;overflow:hidden}
.app{width:90%;max-width:700px;background:rgba(0,0,0,.15);border-radius:16px;padding:25px;box-shadow:0 8px 30px rgba(0,0,0,.4);text-align:center}
h1{margin-bottom:10px;font-size:1.8rem}
button{padding:12px 18px;margin:6px;border:none;border-radius:10px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease}
button:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.25)}
.btn-option{background:#fff;color:#0b1726;width:100%;text-align:left}
.btn-option.correct{background:var(--ok);color:#fff;animation:pulse .5s}
.btn-option.wrong{background:var(--err);color:#fff;animation:shake .5s}
@keyframes pulse{50%{transform:scale(1.05)}}
@keyframes shake{25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}
.progress{height:14px;background:rgba(255,255,255,.2);border-radius:10px;overflow:hidden;margin:10px 0}
.progress-bar{height:100%;width:0%;background:#ffb703;transition:width .4s}
.vidas{font-size:1.5rem;margin:8px 0}
.score{font-size:1.5rem;margin:5px}
.confetti{position:absolute;width:10px;height:10px;background:hsl(var(--hue),70%,60%);top:-20px;animation:fall 2s linear forwards;border-radius:50%}
@keyframes fall{to{transform:translateY(110vh)}}
.firework{position:absolute;width:6px;height:6px;border-radius:50%;pointer-events:none;z-index:10;animation:boom 1s forwards}
@keyframes boom{0%{transform:scale(0)}100%{transform:scale(25);opacity:0}}
.hidden{display:none}
</style>
</head>
<body>
<div class="app" id="app">
  <h1>Jogo B√≠blico de √çtalo Rocha</h1>
  <div id="gameArea"></div>
  <audio id="acerto" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" preload="auto"></audio>
  <audio id="erro"   src="https://actions.google.com/sounds/v1/cartoon/boing.ogg" preload="auto"></audio>
</div>

<script>
/* ----------  DADOS  ---------- */
const levels=[
  {id:'estudante',title:'Estudante'},
  {id:'publicador',title:'Publicador'},
  {id:'pioneiro',title:'Pioneiro'},
  {id:'superintendente',title:'Superintendente'}
];
const colors=['#0b4f8a','#16a34a','#f97316','#7c3aed'];

const questions={ /* 40 perguntas iguais √†s suas ‚Äì resumido aqui para n√£o poluir */
  estudante:[
    {q:'Quem construiu a arca?',opts:['Mois√©s','Abra√£o','No√©','Elias'],a:2},
    {q:'Sinal do dil√∫vio?',opts:['Estrela','Arco-√≠ris','Pomba','Montanha'],a:1},
    {q:'Quem recebeu as t√°buas?',opts:['Mois√©s','Ar√£o','Elias','Josu√©'],a:0},
    {q:'Primeiro homem?',opts:['Ad√£o','Sete','Caim','Abel'],a:0},
    {q:'Vendido pelos irm√£os?',opts:['Jos√©','Bala√£o','Efraim','No√©'],a:0},
    {q:'Venceu Golias?',opts:['Davi','Sans√£o','Saul','Neemias'],a:0},
    {q:'Engolido por peixe?',opts:['Jonas','Am√≥s','Os√©ias','Joel'],a:0},
    {q:'Rei que pediu sabedoria?',opts:['Saul','Salom√£o','Davi','Ezequias'],a:1},
    {q:'Livro de c√¢nticos?',opts:['Prov√©rbios','Salmos','Lamenta√ß√µes','Ester'],a:1},
    {q:'Construiu altar em obedi√™ncia?',opts:['Abra√£o','Caim','Davi','Samuel'],a:0}
  ],
  publicador:[
    {q:'Desafiou profetas de Baal?',opts:['Elias','Eliseu','Isa√≠as','Jeremias'],a:0},
    {q:'Perdeu for√ßa no corte do cabelo?',opts:['Sans√£o','Davi','Saul','Elias'],a:0},
    {q:'Ossos secos?',opts:['Ezequiel','Isa√≠as','Am√≥s','Malaquias'],a:0},
    {q:'Interpretou sonhos do fara√≥?',opts:['Mois√©s','Jos√©','Daniel','Josu√©'],a:1},
    {q:'Cidade destru√≠da ‚Äì fam√≠lia de L√≥?',opts:['Jeric√≥','N√≠nive','Babil√¥nia','Sodoma'],a:3},
    {q:'Ungido ap√≥s Saul?',opts:['Davi','Salom√£o','Elias','J√¥natas'],a:0},
    {q:'Filho de Davi ‚Äì prov√©rbios?',opts:['Salom√£o','Ezequias','Josias','Matusal√©m'],a:0},
    {q:'Ap√≥stolo das cartas?',opts:['Jo√£o','Pedro','Paulo','Tiago'],a:2},
    {q:'1¬∫ milagre p√∫blico de Jesus?',opts:['Multiplica√ß√£o','Cura cego','√Ågua em vinho','Caminhar √°guas'],a:2},
    {q:'Tra√≠do por beijo?',opts:['Jesus','Jo√£o','Pedro','Paulo'],a:0}
  ],
  pioneiro:[
    {q:'7 trombetas & 7 ta√ßas?',opts:['Daniel','Apocalipse','Ezequiel','Isa√≠as'],a:1},
    {q:'Trono de Deus ‚Äì seres viventes?',opts:['Daniel','Ezequiel','Jeremias','Isa√≠as'],a:1},
    {q:'Reconstru√ß√£o de Jerusal√©m?',opts:['Neemias','Esdras','Josu√©','Gide√£o'],a:0},
    {q:'Levado ao c√©u em redemoinho?',opts:['Elias','Eliseu','Isa√≠as','Ezequiel'],a:0},
    {q:'13 cartas NT?',opts:['Jo√£o','Paulo','Pedro','Tiago'],a:1},
    {q:'Festa ‚Äì liberta√ß√£o Egito?',opts:['P√°scoa','Pentecostes','Rosh Hashan√°','Yom Kippur'],a:0},
    {q:'Escrita na parede?',opts:['Daniel','Ezequiel','Jeremias','Mois√©s'],a:0},
    {q:'Servo sofredor?',opts:['Isa√≠as','Am√≥s','Joel','Jonas'],a:0},
    {q:'Preso apelou ao imperador?',opts:['Roma','Cesareia','Filipos','Corinto'],a:1},
    {q:'Julgamento de Jesus?',opts:['Herodes','Pilatos','Cai√°fas','P√¥ncio'],a:1}
  ],
  superintendente:[
    {q:'70 semanas ‚Äì qual livro?',opts:['Ezequiel','Daniel','Isa√≠as','Jeremias'],a:1},
    {q:'Morte substitutiva?',opts:['Reden√ß√£o','Expia√ß√£o','Justifica√ß√£o','Santifica√ß√£o'],a:1},
    {q:'Par√¢metro cronol√≥gico?',opts:['Anos-luz','Per√≠odos prof√©ticos','S√©culos','Dias solares'],a:1},
    {q:'Ap√≥stolo dos gentios?',opts:['Pedro','Jo√£o','Paulo','Barnab√©'],a:2},
    {q:'Justifica√ß√£o pela f√©?',opts:['G√°latas','Romanos','Hebreus','Filipenses'],a:1},
    {q:'In√≠cio cumprimento profecias?',opts:['Nascimento','Batismo Jo√£o','Entrada Jerusal√©m','Ressurrei√ß√£o'],a:0},
    {q:'Profeta ‚Äì justi√ßa social?',opts:['Am√≥s','Habacuque','Sofonias','Obadias'],a:0},
    {q:'Apocalipse ‚Äì ilha de Patmos?',opts:['Pedro','Jo√£o','Paulo','Lucas'],a:1},
    {q:'Livro de salmos?',opts:['Salmos','Prov√©rbios','Eclesiastes','Isa√≠as'],a:0},
    {q:'Cova dos le√µes?',opts:['Daniel','Elias','Jos√©','Paulo'],a:0}
  ]
};

/* ----------  ESTADO  ---------- */
let levelIdx=0, qIdx=0, score=0, lives=3, helpUsed=false, soundOn=true;
const record=()=>+(localStorage.getItem('biblia-record')||0);
const setRecord=r=>localStorage.setItem('biblia-record',r);

/* ----------  UTILS  ---------- */
const qs=s=>document.querySelector(s);
const ce=(t,s='')=>{const e=document.createElement(t);e.innerHTML=s;return e};
const rand=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;
const play=a=>soundOn&&a.play();

/* ----------  TELAS  ---------- */
function goHome(){
  const ga=qs('#gameArea');
  ga.innerHTML=`
    <p>Recorde: <b>${record()}</b></p>
    <button class="btn-option" onclick="startLevel()">Iniciar Jogo</button>
    <button class="btn-option" onclick="showSettings()">Configura√ß√µes</button>`;
}

function showSettings(){
  const ga=qs('#gameArea');
  ga.innerHTML=`
    <h3>Configura√ß√µes</h3>
    <label><input type="checkbox" id="sound" ${soundOn?'checked':''}> Som</label><br>
    <button class="btn-option" onclick="soundOn=qs('#sound').checked;goHome()">Voltar</button>
    <button class="btn-option" onclick="if(confirm('Apagar recorde?'))setRecord(0);goHome()">Zerar Recorde</button>`;
}

function startLevel(){
  levelIdx=qIdx=score=0; lives=3; helpUsed=false;
  setColor();
  showQuestion();
}

function setColor(){document.body.style.setProperty('--bg',colors[levelIdx]);}

/* ----------  JOGO  ---------- */
function showQuestion(){
  const ga=qs('#gameArea');
  const lista=questions[levels[levelIdx].id];
  if(lives<=0){gameOver(false);return;}
  if(qIdx>=lista.length){levelComplete();return;}

  const q=lista[qIdx];
  ga.innerHTML=`
    <div class="vidas">‚ù§Ô∏è${'‚ù§Ô∏è'.repeat(lives-1)}ü§ç${'ü§ç'.repeat(3-lives)}</div>
    <div class="progress"><div class="progress-bar" style="width:${(qIdx/lista.length)*100}%"></div></div>
    <h3>${q.q}</h3>
    <div id="opts"></div>
    ${!helpUsed?'<button id="help" onclick="useHelp()">üéØ Eliminar 2 erradas (1√ó)</button>':''}
    <div class="score">Pontos: ${score}</div>`;

  const opts=qs('#opts');
  q.opts.forEach((o,i)=>{
    const b=ce('button',o); b.className='btn-option'; b.onclick=()=>answer(i);
    opts.appendChild(b);
  });
}

function answer(idx){
  const lista=questions[levels[levelIdx].id];
  const q=lista[qIdx];
  const buttons=document.querySelectorAll('.btn-option');
  const correct=idx===q.a;
  buttons[idx].classList.add(correct?'correct':'wrong');
  if(!correct) buttons[q.a].classList.add('correct');
  correct?(score+=10,play(qs('#acerto'))):(lives--,play(qs('#erro')));
  qIdx++;
  setTimeout(showQuestion,800);
}

function useHelp(){
  if(helpUsed)return; helpUsed=true;
  const lista=questions[levels[levelIdx].id];
  const q=lista[qIdx];
  const buttons=document.querySelectorAll('.btn-option');
  let wrong=[0,1,2,3].filter(i=>i!==q.a);
  wrong.sort(()=>Math.random()-.5);
  buttons[wrong[0]].style.opacity='.3';
  buttons[wrong[1]].style.opacity='.3';
  qs('#help').disabled=true;
}

function levelComplete(){
  const ga=qs('#gameArea');
  ga.innerHTML=`<h2>Parab√©ns! Fase ${levelIdx+1} conclu√≠da!</h2>
    <p id="finalScore">Pontua√ß√£o: 0</p>
    <button class="btn-option" onclick="nextLevel()">Pr√≥xima Fase</button>`;
  animateScore(score); party();
}

function nextLevel(){
  levelIdx++;
  if(levelIdx>=levels.length){gameOver(true);return;}
  qIdx=0; lives=3; helpUsed=false; setColor(); showQuestion();
}

function gameOver(won){
  const ga=qs('#gameArea');
  ga.innerHTML=`<h2>${won?'Voc√™ venceu todas as fases!':'Suas vidas acabaram!'}</h2>
    <p id="finalScore">Pontua√ß√£o Final: 0</p>
    <p>Recorde: <b>${Math.max(record(),score)}</b></p>
    <button class="btn-option" onclick="goHome()">Voltar ao In√≠cio</button>`;
  if(score>record())setRecord(score);
  animateScore(score); party();
}

/* ----------  EFEITOS  ---------- */
function animateScore(final){
  const el=document.getElementById('finalScore');
  if(!el)return;
  let cur=0;
  const int=setInterval(()=>{
    if(cur>=final){clearInterval(int);return;}
    cur++; el.textContent=`Pontua√ß√£o: ${cur}`;
  },30);
}
function party(){
  for(let i=0;i<60;i++){
    const c=ce('div'); c.className='confetti';
    c.style.left=rand(0,100)+'%';
    c.style.setProperty('--hue',rand(0,360));
    c.style.animationDuration=rand(15,25)/10+'s';
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2500);
  }
  for(let i=0;i<20;i++){
    const f=ce('div'); f.className='firework';
    f.style.left=rand(10,90)+'%'; f.style.top=rand(10,50)+'%';
    f.style.background=`hsl(${rand(0,360)},80%,60%)`;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}

/* ----------  IN√çCIO  ---------- */
goHome();
</script>
</body>
</html>
